---
nginx_controller_environmentName: "demo"
api_gateway_instance: "ip-10-1-11-241.us-east-2.compute.internal"
nginx_controller_gateway:
  metadata:
    name: "demo-api"
    displayName: "Sports API gateway"
    tags:
    - "api"
  desiredState:
    ingress:
      uris:
        "https://sports.example.com": {}
      tls:
        certRef:
          ref: "/services/environments/{{nginx_controller_environmentName}}/certs/sports"
        protocols:
          - "TLSv1.3"
      placement:
        instanceRefs:
          - ref: "/infrastructure/locations/unspecified/instances/{{api_gateway_instance}}"
    errorSetRef:
      ref: "/services/errorsets/default-json"
